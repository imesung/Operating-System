**각 IPC 기법 개념 이해하기(signal, socket)**

> 시그널과 소켓



**시그널(signal) - 이벤트**

- 유닉스에서 30년 이상 사용된 전통적인 기법이다.
- **커널 또는 프로세스에서 다른 프로세스에 어떤 이벤트가 발생되었는지를 알려주는 기법이다.**
- 프로세스 관련 코드에 관련 시그널 핸들러를 등록해서, 해당 시그널 처리를 실행한다.
  1. 시그널 무시
  2. 시그널 블록(블록을 푸는 순간, 프로세스에 해당 시그널 전달)
  3. 등록된 시그널 핸들러로 특정 동작 수행
  4. 등록된 시그널 핸들러가 없다면 커널에서 기본 동작 수행



**주요 시그널**

> 주요 시그널 : 기본 동작

- SIGKILL : 프로세스를 죽여라(슈퍼관리자가 사용하는 시그널로, 프로세스는 어떤 경우든 죽도록 되어있다.)
- SIGALARM : 알람을 발생한다.
- SIGSTP : 프로세스를 멈춘다.
- SIGCONT : 멈춰진 프로세스를 실행한다.
- SIGINT : 프로세스에 인터럽트를 보내서 프로세스를 죽인다.
- SIGSEGV : 프로세스가 다른 메모리영역을 침버했다는 것을 알려준다.

> 명령어 kill -l : 시그널에 종류들이 나타난다.



**시그널 관련 코드 예제**

- 시그널 핸들러 등록 및 핸들러 구현

<img src="https://user-images.githubusercontent.com/40616436/81701522-19b49080-94a5-11ea-808c-d4f0c7b2b193.png" alt="image" style="zoom:50%;" />



- 시그널 핸들러 무시

<img src="https://user-images.githubusercontent.com/40616436/81701717-5da79580-94a5-11ea-9b69-f9dd5096c9d5.png" alt="image" style="zoom:50%;" />



**시그널과 프로세스**

- **PCB** 안에서 해당 프로세스가 블록 또는 처리해야하는 시그널 관련 정보를 관리한다.
- 커널 모드에서 사용자 모드로 전환될 때 해당 프로세스의 PCB 시그널을 확인하고 처리가 필요할 시 커널 함수로 처리가 필요할 시 커널 함수로 처리를 진행한 후 사용자모드로 전환되는 것이다. 하지만 특정 동작일 경우에는 사용자 모드에 해당 함수가 있으므로 사용자 모드로 넘어가 처리를 진행한다.

<img src="/Users/mesung/Downloads/IMG_BD646BFF1313-1.jpeg" alt="IMG_BD646BFF1313-1" style="zoom:50%;" />



**소켓**

- 소켓은 네트워크 통신을 위한 기술이다.
- 기본적으로는 클라이언트와 서버 등 두개의 다른 컴퓨터 간의 네트워크 기반 통신을 위한 기술이다.

<img src="https://user-images.githubusercontent.com/40616436/81702854-c80d0580-94a6-11ea-89ea-a57671666f0a.png" alt="image" style="zoom:50%;" />

- **소켓은 단순히 말하면, 네트워크 기기를 이용할 수 있는 시스템 콜이다.**
- 소켓이 IPC 기법을 사용되는 이유는, 클라이언트와 서버 간의 관계 말고, 본인 컴퓨터에서 다른 프로세스와 커뮤니케이션할 수 있기 때문이다.



**소켓과 IPC**

- 소켓을 하나의 컴퓨터 안에서, 두 개의 프로세스 간에 통신 기법으로 사용이 가능하다.



**정리**

- 다양한 IPC 기법을 활용해서 프로세스 간의 통신이 가능하다.
- IPC 기법 이외에도 사용할 수 있는 두 가지 기술 개념을 알면 좋다.
  - 시그널
  - 소켓