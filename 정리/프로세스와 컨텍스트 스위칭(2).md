## 프로세스와 컨텍스트 스위칭(2)

**Context Switching(문맥교환)**

- CPU에 실행할 프로세스를 교체하는 기술이다.

1. 실행 중지할 프로세스 정보를 해당 프로세스의 PCB에 업데이트하여 메인 메모리에 저장한다.
2. 다음 실행할 프로세스 정보를 메인 메모리에 있는 해당 **PCB 정보를 CPU의 레지스터에 넣고 실행한다.**

<img src="https://user-images.githubusercontent.com/40616436/81197464-424b0f00-8ffb-11ea-8487-00dfcde89692.png" alt="image" style="zoom:50%;" />

- Ex. 레코드판
  - 1번~10번 사이에 듣고 싶은 곳에 침을 놓으면 음악이 흘러나온다.
  - 컨텍스트 스위칭 처럼, 듣고 싶은 곳에 침을 놓는 것이 아닌가! 프로세스 변경!



**Context Switching 시간의 중요성**

- 컨텍스트 스위칭하는 시간이 오래 걸리게 되면 성능적으로 이슈가 된다.
- Ex. 2개의 프로세스를 모두 실행하는 시간이 총 2초인데, 컨텍스트 스위칭하는 시간 또한 1/100초에 한번씩 일어나게 되면, 2개의 프로세스를 모두 실행하는데 2초가 걸리는 것이 아니라 총 4초라는 시간이 걸리게 되는 것이다.
- **컨텍스트 스위칭하는 시간은 최대한 줄이는 것이 성능적으로 좋은 것이다.**



**정리**

- 프로세스 구조
  - Stack, HEAP, DATA(BSS, DATA), TEXT(CODE)
- PCB
  - 프로세스 상태정보 - PC, SP, 메모리, 스케쥴링 정보 등
- 컨텍스트 스위칭
  - 프로세스 상태 정보를 PCB로부터 CPU에 로드하고 실행
  - Ex. 레코드 판 가운데에 핀을 놓는 느낌.