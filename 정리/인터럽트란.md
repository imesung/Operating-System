## 인터럽트란?

- CPU가 프로그램을 실행하고 있을 때, 입출력 하드웨어 등의 장치나 또는 예외상황이 발생하여 처리가 필요할 경우에 CPU에 알려 처리하는 기술이다.

> 어느 한순간에 CPU가 실행하는 명령은 단 하나! 다른 장치와 어떻게 커뮤니케이션을 할까?



**인터럽트가 필요한 이유**

- **선점형 스케줄러 구현**

  - 프로세스가 running(CPU에서 PC를 읽어가며 실행 중) 중인데 스케줄러가 이를 중단시키고, 다른 프로세스로 교체하기 위해 현재 프로세스의 실행을 중단시키는 것이다.

    - 이것이 가능하기 위해선 스케줄러 코드가 실행되어 현 프로세스 실행을 중지시켜야한다.

  - 이 처럼 선점형 스케줄러는 스케줄러에 의해 CPU를 중단시켜야하는 경우가 필요로하기 때문에 인터럽트가 필요한 것이다.

    <img src="https://user-images.githubusercontent.com/40616436/78257724-34eec080-7535-11ea-9f2c-4e3544be0644.png" alt="image" style="zoom:50%;" />



- **IO Device와의 커뮤니케이션**

  - IO Device, 저장매체에서 데이터 처리 완료 시, 프로세스를 깨워야한다. (block state -> ready state)
    <img src="/Users/mesung/Downloads/IMG_4E34AFEBB25E-1.jpeg" alt="IMG_4E34AFEBB25E-1" style="zoom:50%;" />



- **예외 상황 핸들링**
  - CPU가 프로그램을 실행하고 있을 때, **입출력 하드웨어 등의 장치나 다른 외부에서 예외상황이 발생할 경우 CPU가 해당 처리를 할 수 있도록 CPU에게 알려줘야 한다.**
    - 이 때, **인터럽트가 발생해야 한다**
  - '0으로 나누기' 같은 연산을 요청할 시, CPU는 해당 연산을 처리하려고 시도를 하지만 바로 문제가 발생할 것이다. 이로 인해 프로세스가 다음 작업을 하지 못하게 되는 것이다.
    - **이런 예기치 못한 상황에 대해서 운영체제나 스케줄러에게 알려주어 해당 프로세스를 kill해야 하는데**, 이런 상황에 대한 정보를 줘야하는데 이 때 **인터럽트가 발생하는 것이다.**



**운영체제와 인터럽트**

- 인터럽트는 하나의 이벤트라고 생각해볼 수 있다. 해당 이벤트는 정의될 수 있고 발생할 수 있는데 해당 이벤트에 대한 처리도 진행해야 한다.
- 이 모든 것이 운영체제에서 이루어 지는 것이다.