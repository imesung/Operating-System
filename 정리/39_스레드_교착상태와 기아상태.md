**교착상태란(deadlock)란?**

<img src="https://user-images.githubusercontent.com/40616436/82724980-c21feb80-9d14-11ea-830c-7169cfdbf66f.png" alt="image" style="zoom:50%;" />

- **무한 대기 상태 : 두 개 이상의 작업이 서로 상대방의 작업이 끝나기만을 기다리고 있어 다음 단계로 진행하지 못하는 상태를 말한다.**
- 해당 상태는 배치 처리 시스템에서는 일어나지 않으나 프로세스와 스레드는 이 상태가 일어날 수 있다.

**교착상태 발생 조건(참고)**

다음 네 가지 조건이 모두 성립될 때 교착상태 발생 가능성이 있다.

1. 상호 배제(Mutual exclusion) : 프로세스들이 필요로 하는 자원에 대해 독점적인 통제권을 요구한다.
2. 점유대기(Hold and wait) : 프로세스가 할당된 자원을 가진 상태에세 다른 자원을 기다린다.
3. 비선점(No preemption) : 프로세스가 어떤 자원의 사용을 끝날 때까지 그 자원을 뺏을 수 없다.
4. 순환대기(Circular wait) : 각 프로세스는 순환적으로 다음 프로세스가 요구하는 자원을 가지고 있다.

교착상태의 해결방법은 네가지중 조건이 안될 수 있도록 하나를 빼는 방법이다. 이건 그냥 참고만 하면 될것같다.

---

**기아상태(starvation)란?**

- 특정 프로세스의 우선순위가 낮아서 원하는 자원을 계쏙 할당 받지 못하는 상태를 말한다.

- 교착상태와 기아상태

  - 교착상태는 여러 프로세스가 동일 자원 점유를 요청할 때 발생한다.
  - **기아상태는 여러 프로세스가 부족한 자원을 점유하기 위해 경쟁할 때, 특정 프로세스는 영원히 자원 할당이 안되는 경우를 주로 의미한다.**

- 기아상태 Ex.

  프로세스간의 스레드가 우선순위로 매겨졌다고 생각해보자. 50개의 스레드가 있는데 49개는 1순위이고 1개는 2순위이다. 그런데 실행을 할 때는 스케쥴링(우선순위)에 의해서 실행되고 총 10번만 실행을 한다고 하자. 이렇게 되면 10번을 실행하면 절대 2순위의 스레드는 실행될 수가 없을 것이다. 이런 경우를 기아상태라고 하는 것이다.

  즉, 여러 프로세스(스레드)가 부족한 자원(실행을 10번만 해서..) 점유하기 위해서 결쟁할 때는 특정 프로세스(스레드(2순위))는 영원히 할당이 안되는 것이다.

**기아상태 해결 방안**

- 우선순위 변경
  - 프로세스 우선순위를 수시로 변경해서 각 프로세스가 높은 우선순위를 가질 기회를 주는 것이다.
  - 오래 기다린 프로세스의 우선순위를 높여준다.
  - 우선순위가 아닌 요청 순서대로 처리하는 FIFO 기반의 요청 큐를 사용한다.

